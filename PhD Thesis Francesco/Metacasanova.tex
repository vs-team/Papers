\documentclass[8pt,a5paper]{extbook}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{enumitem}
\usepackage{listings}
\usepackage{hyperref}
\usepackage{graphicx}
\usepackage{epigraph}
\usepackage{comment}
\usepackage{mathpartir}
\usepackage{subcaption}
\usepackage{multirow}
\usepackage{pdfpages}
\usepackage{colortbl}
\usepackage[chapter]{algorithm}
\usepackage{algpseudocode}
\usepackage{algorithmicx}
\usepackage{float}
\usepackage[font=small,labelfont=bf]{caption}
\usepackage[top=2cm,bottom=2cm,left=3cm,right=2cm]{geometry}
\author{Francesco Di Giacomo}
\title{Metacasanova: a High-performance Meta-compiler for Domain-specific Languages}
\date { }

\newcommand{\tu}{\textunderscore}

\definecolor{scheduleGreen}{RGB}{1,168,1}

\lstset
{
	frame = single,
	breaklines = true,
	showstringspaces = false,
	basicstyle = \ttfamily\footnotesize,	
	tabsize=2,
	captionpos=b
}

\theoremstyle{definition}
\newtheorem{definition}{Definition}[chapter]

\newcommand{\AlgError}[1]{\State $\text{\textbf{error:} #1}$}
\newcommand{\AlgLet}[2]{\State \textbf{let} #1 \textbf{be} #2}




\makeindex
\begin{document}
\pagenumbering{gobble}
\includepdf{Extra/Cover.pdf}
\newpage
\frontmatter
\maketitle

\tableofcontents

\mainmatter

\chapter{Introduction}
\label{ch:introduction}
\epigraph{About the use of language: it is impossible to sharpen a pencil with a blunt axe. It is equally vain to try to do it with ten blunt axes instead.}{Edsger Dijkstra}
\input{Chapters/introduction}
	

\chapter{Background}
\label{ch:background}
\epigraph{Trying to outsmart a compiler defeats much of the purpose of using one.}{Kernighan and Plauger - \textit{The Elements of Programming Style}.}
\input{Chapters/background}
	
\chapter{Metacasanova}
\label{ch:metacasanova}
\epigraph{Typing is no substitute for thinking}{Dartmouth Basic manual, 1964}
\input{Chapters/metacasanova}		

\chapter{Language design in Metacasanova}
\label{ch:languages}
\epigraph{A language that doesn't affect the way you think about programming is not worth knowing.}{Alan J. Perlis}
\input{Chapters/mcnv_languages}

\chapter{Metacasanova optimization}
\label{ch:functors}
\input{Chapters/functors}
	
\chapter{Networking primitives in Casanova}
\label{ch:networking}
\input{Chapters/networking}

\chapter{Discussion and conclusion}
\label{ch:discussion}
Here it would be wise to discuss about the fact that you still need to define a program for a language implemented in Metacasanova in term of syntax of Metacasanova itself. Remark that it is trivial to solve this problem by writing a parser, for example in Yacc, that maps the proper syntax of the language into the syntax of Metacasanova, but we do not implement it because it has no scientific value.

\appendix
\chapter{List operations with templates}
\label{app:template}
\input{Chapters/appendix_template}

\chapter{Metacasanova grammar in BNF}
\label{app:metacasanova_grammar}

\backmatter

\bibliographystyle{plain}
\bibliography{references}

\end{document}